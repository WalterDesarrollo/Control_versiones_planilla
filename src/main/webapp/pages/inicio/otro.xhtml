<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
  
    <h:head>
        <title>Inicio de Sesion</title>
    </h:head>

    <style>
        body {
            background-image: url("#{resource['images:limonero.jpg']}") !important;
            background-size: cover !important;
            background-position: center !important;
            background-repeat: no-repeat !important;
            background-attachment: fixed !important;
            font-family: Arial, sans-serif !important;
            color: #fff !important;
            display: flex !important;
            justify-content: center!important;
            align-items: center !important;
            height: 100vh !important;
            margin: 0 !important;
        }

        .login-box {
            background-color: rgba(0, 0, 0, 0.5)!important;
            padding: 30px !important;
            border-radius: 30px !important;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2)!important;
            width: 400px !important;
            text-align: center!important;
        }

        .login-box h1 {
            margin-bottom: 20px!important;
            font-size: 24px !important;
            color: #fff !important;
        }

        .login-input {
            width: 100%!important;
            padding: 10px !important;
            margin-bottom: 15px !important;
            border-radius: 20px !important; /* bordes redondeados*/
            border: 1px solid rgba(255, 255, 255, 0.6)!important;
            background-color: rgba(255, 255, 255, 0.2) !important;
            color: #fff!important;
            outline: none !important;
        }

        .login-input::placeholder {
            color: rgba(255, 255, 255, 0.7) !important;
        }

        .login-button {
            background-color: #007bff !important;
            border: none !important;
            padding: 10px !important;
            color: white !important;
            border-radius: 25px !important;
            width: 100% !important;
            cursor: pointer !important;
            font-size: 20px !important;
            transition: background-color 0.3s !important;
        }

        .login-button:hover {
            background-color: #0056b3 !important;
        }

        .forgot-password {
            margin-top: 15px !important;
            font-size: 14px !important;
        }

        .forgot-password a {
            color: #007bff !important;
            text-decoration: none !important;
        }

        .forgot-password a:hover {
            text-decoration: underline !important;
        }

        .mensaje-error {
            background-color: #ffcccc !important;
            color: #cc0000 !important;
            padding: 10px !important;
            border-radius: 5px !important;
            margin-top: 10px !important;
        }

        .mensaje-exito {
            background-color: #ccffcc !important;
            color: #006600 !important;
            padding: 10px !important;
            border-radius: 5px !important;
            margin-top: 10px !important;
        }

        .logo img {
            width: 150px !important;
            height: 150px !important;
            border-radius: 50% !important;
            opacity: 0.8 !important; /* Añadido para la transparencia */
        }
        
       .emp-log {
            position: absolute !important;
            top: 10px !important; /* Separación desde el borde superior */
            left: 10px !important; /* Separación desde el borde izquierdo */
        }

        .emp-log img {
            width: 220px !important;
            height: 180px !important;
            border-radius: 30% !important;
            opacity: 0.7 !important;
        }
        
    </style>

    <h:body>
        
         <div class="emp-log">
                <p:graphicImage name="images/log-emp.png" alt="Login Icon" />
            </div>
        
        <div class="login-box">
            <div class="logo">
                <p:graphicImage name="images/logo_inicio.png" alt="Login Icon" />
            </div>
            <h1>INICIO DE SESION</h1>  

            <h:form>
                <p:messages id="messages" showDetail="true" closable="true">
                    <p:autoUpdate />
                </p:messages>

                <p:inputText id="username" value="#{loginUI.loginDTO.username}" 
                             required="true" requiredMessage="El usuario es obligatorio" 
                             styleClass="login-input" placeholder="Ingrese su Usuario"/>

                <p:password id="password" value="#{loginUI.loginDTO.password}" 
                            required="true" requiredMessage="La contraseña es obligatoria" 
                            styleClass="login-input" placeholder="Ingrese su Contraseña"/>
                
                <p:commandButton id="btnLogin" value="Iniciar Sesión" 
                                 action="#{loginUI.validarLogin}" 
                                 update="@form" styleClass="login-button"/>

                <div class="forgot-password">
                    <h:outputLink value="forgot-password.xhtml">Olvidaste tu contraseña?</h:outputLink>
                </div>

                <h:panelGroup id="mensajePanel" layout="block">
                    <h:outputText value="#{loginUI.mensaje}" rendered="#{not empty loginUI.mensaje}"
                                  styleClass="#{loginUI.mensaje.startsWith('Error') ? 'mensaje-error' : 'mensaje-exito'}"/>
                </h:panelGroup>
            </h:form>
        </div>
    </h:body>
</html>
